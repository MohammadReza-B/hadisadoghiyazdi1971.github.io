---
layout: persian  # ุง single ุจุง ฺฉูุงุณ rtl-layout
classes: wide rtl-layout
dir: rtl
title: "PULP"
permalink: /teaching/studenteffort/toolkit/PULP/
author_profile: false
sidebar:
  nav: "toolkit"
header:
  overlay_image: "/assets/images/background.jpg"
  overlay_filter: 0.3
  overlay_color: "#5e616c"
  caption: "Photo credit: [**Unsplash**](https://unsplash.com)"
---


# ฺุทูุฑ ุจุง PuLP ฺฉุงุฑ ฺฉูู

## ุขุดูุง ุจุง ูุณุฃูู
ูุณุฃููู ุชุฎุตุต ฺฉุงุฑูุง ุจู ุชูโูุง ุฏุฑ ต ุฑูุฒ

ุงุฒ ฺฉ ูุซุงู ฺฉูฺฺฉ ุงุณุชูุงุฏู ูโฺฉูู. ุฏุฑ ุงุจุชุฏุง ุจุง ุงู ุณุงุฎุชุงุฑ ุขุดูุง ุดู:

### ูุซุงูู ุณุงุฏู

```python
tasks = {
    "T1": {"hours": 4},
    "T2": {"hours": 3},
    "T3": {"hours": 6},
}

teams = {
    "TeamA": {"daily_capacity": 8, "can_do": ["T1","T2","T3"]},
    "TeamB": {"daily_capacity": 6, "can_do": ["T1","T3"]},
}

days = ["0","1","2","3","4"]
```

- ุณู ฺฉุงุฑ (T1, T2, T3) ุฏุงุฑู ุจุง ุณุงุนุชโูุง ููุฑุฏ ูุงุฒ
- ุฏู ุชู ุจุง ุธุฑูุช ุฑูุฒุงูู ูุดุฎุต
- ต ุฑูุฒ ฺฉุงุฑ ุฏุงุฑู

## ฺฏุงู ฒ โ ุชุนุฑู ูุชุบุฑูุง ุชุตูู ุฏุฑ PuLP

ฺฉุฏุงู ุชูุ ุฏุฑ ฺฉุฏุงู ุฑูุฒุ ฺฉุฏุงู ฺฉุงุฑ ุฑุง ุงูุฌุงู ุฏูุฏ.

ุฏุฑ ูุฏูโูุง ุชุฎุตุต (assignment)ุ ูุนูููุงู ุงุฒ ูุชุบุฑ ุฏูุฏู (binary) ุงุณุชูุงุฏู ูโฺฉูู:

- ุงฺฏุฑ ุชู i ุฏุฑ ุฑูุฒ d ฺฉุงุฑ t ุฑุง ุงูุฌุงู ุฏูุฏ โ ููุฏุงุฑ 1
- ุฏุฑ ุบุฑ ุงู ุตูุฑุช โ ููุฏุงุฑ 0

```python
import pulp

# ุฏุงุฏูโูุง ุงุฒ ฺฏุงู ูุจู
tasks = ["T1", "T2", "T3"]
teams = ["TeamA", "TeamB"]
days = ["0","1","2","3","4"]

# ูุฏู ุงุตู
model = pulp.LpProblem("Task_Assignment", pulp.LpMaximize)  # ุจุนุฏุงู ุชุงุจุน ูุฏู ุฑุง ูโฺฏุฐุงุฑู

# ูุชุบุฑ ุฏูุฏู x[team][day][task]
x = pulp.LpVariable.dicts(
    "assign",
    ((team, day, task) for team in teams for day in days for task in tasks),
    cat="Binary"
)
```

### ุชูุถุญ ูุชุบุฑูุง:

- `x[("TeamA","Mon","T1")] = 1` ุนู ุชู A ุฏุฑ ุฏูุดูุจู ฺฉุงุฑ T1 ุฑุง ุงูุฌุงู ูโุฏูุฏ
- `x[("TeamB","Wed","T3")] = 0` ุนู ุงูุฌุงู ููโุฏูุฏ

`pulp.LpVariable.dicts` ฺฉ ุฏฺฉุดูุฑ ุงุฒ ูุชุบุฑูุง ูโุณุงุฒุฏ ฺฉู ฺฉูุฏูุงุด ููุงู `(team,day,task)` ูุณุชูุฏ.

ุฏุณุชูโ `"Binary"` ุจุงุนุซ ูโุดูุฏ ููุท 0 ุง 1 ูุฌุงุฒ ุจุงุดูุฏ.


# ฺุทูุฑ ุจุง PuLP ฺฉุงุฑ ฺฉูู

## ฺฏุงู ณ โ ุชุนุฑู ุชุงุจุน ูุฏู (Objective Function)

ุจู ูุฏู ุจุงุฏ ุจฺฏูู ฺฉู ูโุฎูุงูุฏ ฺู ฺุฒ ุฑุง ุจููู ฺฉูุฏ.

ุฏุฑ ูุณุงุฆู ุชุฎุตุตุ ูุนูููุงู ฺฉ ุงุฒ ูุฏูโูุง ุฒุฑ ุฏุงุฑู:
- ฺฉููู ฺฉุฑุฏู ูุฌููุน ูุฒููโูุง ุง ุฒูุงูโูุง
- ูุชุนุงุฏู ฺฉุฑุฏู ุญุฌู ฺฉุงุฑ ุจู ุชูโูุง  
- ุญุฏุงฺฉุซุฑ ฺฉุฑุฏู ุชุนุฏุงุฏ ฺฉุงุฑูุง ุงูุฌุงูโุดุฏู

ุจุฑุง ุดุฑูุนุ ุณุงุฏูโุชุฑู ุญุงูุช ุฑุง ุงุฏ ูโฺฏุฑู:
๐ **ยซูโุฎูุงูู ูุฌููุน ฺฉู ฺฉุงุฑูุง ุงูุฌุงูโุดุฏู ุฑุง ุญุฏุงฺฉุซุฑ ฺฉูู.ยป**

```python
# ุชุงุจุน ูุฏู: ุจุดูู ฺฉุฑุฏู ูุฌููุน ฺฉุงุฑูุง ุงูุฌุงูโุดุฏู
model += pulp.lpSum(x[(team, day, task)] for team in teams for day in days for task in tasks)
```

### ุชูุถุญ:
- `lpSum` ุชุงุจุน ุฌูุน ุฏุฑ PuLP ุงุณุช
- ฺูู x ููุท ฐ ุง ฑ ุงุณุชุ ุฌูุน ุขู ุนู ฺูุฏ ฺฉุงุฑ ุฏุฑ ฺฉู ุงูุฌุงู ุดุฏู ุงุณุช
- `model += ...` ุนู ุงู ุนุจุงุฑุช ุชุงุจุน ูุฏู ูุฏู ุงุณุช

## ฺฏุงู ด: ููุดุชู ูุฏูุง ุงุตู ุชุฎุตุต ู ุธุฑูุช ุชูโูุง

### ๐งฉ ูุฏ ฑ: ูุฑ ฺฉุงุฑ ููุท ฺฉโุจุงุฑ ุฏุฑ ฺฉู ููุชู ุงูุฌุงู ุดูุฏ
ุนู ูุฑ ฺฉุงุฑ ูุจุงุฏ ุชูุณุท ฺูุฏ ุชู ุฏุฑ ฺูุฏ ุฑูุฒ ุชฺฉุฑุงุฑ ุดูุฏ.

```python
for task in tasks:
    model += pulp.lpSum(x[(team, day, task)] for team in teams for day in days) <= 1, f"EachTaskOnce_{task}"
```

**๐น ุชูุถุญ:**
ุฌูุน ุชูุงู ูุชุบุฑูุง ฺฉู ูุดุงูโุฏููุฏูู ุงูุฌุงู ฺฉ ฺฉุงุฑ ูุณุชูุฏุ ุจุงุฏ ุญุฏุงฺฉุซุฑ ฑ ุจุงุดุฏ.
(ูโุชูุงู `== 1` ุจฺฏุฐุงุฑ ุงฺฏุฑ ูุทูุฆู ูููู ฺฉุงุฑูุง ุจุงุฏ ุญุชูุงู ุงูุฌุงู ุดููุฏ.)

### โ๏ธ ูุฏ ฒ: ุธุฑูุช ุฑูุฒุงููู ูุฑ ุชู ุฑุนุงุช ุดูุฏ
ูุฑุถ ฺฉูู ูุฑ ฺฉุงุฑ t ุชุนุฏุงุฏ ุณุงุนุช ูุงุฒ ุฏุงุฑุฏ (`tasks[t]["hours"]`)ุ
ู ูุฑ ุชู ุฏุฑ ูุฑ ุฑูุฒ ุญุฏุงฺฉุซุฑ `teams[team]["daily_capacity"]` ุณุงุนุช ููุช ุฏุงุฑุฏ.

```python
for team in teams:
    for day in days:
        model += pulp.lpSum(
            tasks[task]["hours"] * x[(team, day, task)] for task in tasks
        ) <= teams[team]["daily_capacity"], f"Capacity_{team}_{day}"
```

**ุชูุถุญ:**
ุจุฑุง ูุฑ ุชู ู ูุฑ ุฑูุฒุ ูุฌููุน ุณุงุนุงุช ฺฉุงุฑูุง ฺฉู ุจู ุงู ุงุฎุชุตุงุต ุฏุงุฏู ูโุดูุฏุ ูุจุงุฏ ุงุฒ ุธุฑูุชุด ุจุดุชุฑ ุดูุฏ.

### ฺฉุฏ ฺฉุงูู ุชุง ุงู ูุฑุญูู:

```python
import pulp

# ุฏุงุฏูโูุง
tasks = {
    "T1": {"hours": 4},
    "T2": {"hours": 6},
    "T3": {"hours": 3}
}

teams = {
    "TeamA": {"daily_capacity": 8},
    "TeamB": {"daily_capacity": 6}
}

days = ["0", "1", "2", "3", "4"]

# ูุฏู ุงุตู
model = pulp.LpProblem("Task_Assignment", pulp.LpMaximize)

# ูุชุบุฑ ุฏูุฏู x[team][day][task]
x = pulp.LpVariable.dicts(
    "assign",
    ((team, day, task) for team in teams for day in days for task in tasks),
    cat="Binary"
)

# ุชุงุจุน ูุฏู: ุจุดูู ฺฉุฑุฏู ูุฌููุน ฺฉุงุฑูุง ุงูุฌุงูโุดุฏู
model += pulp.lpSum(x[(team, day, task)] for team in teams for day in days for task in tasks)

# ูุฏ ฑ: ูุฑ ฺฉุงุฑ ููุท ฺฉโุจุงุฑ ุงูุฌุงู ุดูุฏ
for task in tasks:
    model += pulp.lpSum(x[(team, day, task)] for team in teams for day in days) <= 1, f"EachTaskOnce_{task}"

# ูุฏ ฒ: ุธุฑูุช ุฑูุฒุงูู ุชูโูุง
for team in teams:
    for day in days:
        model += pulp.lpSum(tasks[task]["hours"] * x[(team, day, task)] for task in tasks) <= teams[team]["daily_capacity"], f"Capacity_{team}_{day}"

print("ูุฏู ุจุง ููููุช ุณุงุฎุชู ุดุฏ!")
```

## ฺฏุงู ต โ ุญู ูุฏู ู ููุงุด ูุชุงุฌ

### ฑ. ุญู ูุฏู
ุฏุฑ PuLP ููุท ฺฉุงู ุงุณุช ุจููุณ:

```python
model.solve()
```

ุงูุง ุจูุชุฑ ุงุณุช ูุถุนุช ุญู ุฑุง ูู ฺุงูพ ฺฉูู:

```python
status = pulp.LpStatus[model.status]
print("ูุถุนุช ุญู:", status)
```

### ฒ. ุงุณุชุฎุฑุงุฌ ู ฺุงูพ ูุชุงุฌ
ุญุงูุง ุจุงุฏ ุจุจูู ฺฉุฏุงู ูุชุบุฑ ููุฏุงุฑ 1 ฺฏุฑูุชู (ุนู ุชุฎุตุต ุงูุฌุงู ุดุฏู ุงุณุช):

```python
print("\nูุชุงุฌ ุชุฎุตุต:")
for team in teams:
    for day in days:
        for task in tasks:
            if pulp.value(x[(team, day, task)]) == 1:
                print(f"โ {task} โ {team} ุฏุฑ ุฑูุฒ {day}")
```

### ณ. ฺฉู ุฎุฑูุฌ ูุฏู
ุงฺฏุฑ ูโุฎูุงู ฺฉู ูุฏู ู ููุงุฏุฑ ูุฏู ุฑุง ูู ุจุจู:

```python
print("\nููุฏุงุฑ ุชุงุจุน ูุฏู:", pulp.value(model.objective))
```